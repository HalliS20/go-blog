spaLoader();function spaLoader(){document.addEventListener("DOMContentLoaded",(()=>{attachAllListeners();window.addEventListener("popstate",(()=>{fetchContent(window.location.pathname)}))}))}function fetchContent(url){const contentDiv=document.getElementById("content");fetch(url).then((response=>response.text())).then((html=>{const parser=new DOMParser;const doc=parser.parseFromString(html,"text/html");const newContent=doc.getElementById("content");contentDiv.innerHTML=newContent.innerHTML;document.title=doc.title;const newDescription=doc.querySelector('meta[name="description"]');const currentDescription=document.querySelector('meta[name="description"]');if(newDescription&&currentDescription){currentDescription.setAttribute("content",newDescription.getAttribute("content"))}attachAllListeners()}))}function attachButtonListener(button){button.addEventListener("click",(e=>{e.preventDefault();e.stopPropagation();const url=button.getAttribute("data-href");if(url&&url.startsWith("/")){history.pushState(null,"",url);fetchContent(url)}return false}),true)}function attachAllListeners(){document.querySelectorAll('button[data-href^="/"]').forEach(attachButtonListener)}